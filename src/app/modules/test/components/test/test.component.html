<div class="test-content">
    <div class="test-btn">
        <!-- <i class="fa fa-long-arrow-left" aria-hidden="true" (click)="onBack()"> Quay lại</i> -->

        <button type="button" class="btn btn-primary" (click)="openShareBox()">
            <i class="fa fa-share-alt" aria-hidden="true"></i>
            Share</button>
        <i class="fa fa-trash-o" aria-hidden="true" (click)="openConfirm()"></i>
    </div>
    
    <h3 [ngStyle]="{textAlign: 'center'}">{{testTitle | uppercase}} Test Results</h3>

    <app-score-chart [test_id]="test_id"></app-score-chart>
    <app-line-time [test_id]="test_id"></app-line-time>
    <div class="panel panel-default" *ngIf="test">
        <div class="panel-heading">
            <h3 class="panel-title"> {{test.testTitle | uppercase}} Test</h3>
            <i>({{test.easyQty+test.normalQty+test.hardQty}} questions)</i>
            <p>Time: {{test.timeTest}} min</p>
            <p>Code: {{test.testCode}}</p>
        </div>
        <div class="panel-body">
            <div class="questions-container">
                <div class="question" *ngFor="let question of qsOnePage; let i = index">
                    <div class="question-elemment">
                        <h4>
                            <strong>Question {{i+1+(page-1)*perPage}}:</strong>
                        </h4>
                        <p>
                            {{question.title}}
                        </p>
                    </div>
                    <div class="answers">
                        <div class="" *ngFor="let answer of question.answers; let j = index">
                            <!-- is{{answer.isCorrect}} -->
                            <form>
                                <div class="answer-elemnt">
                                    <!-- <input type="radio" id="a_{{i}}_{{j}}" value=j> -->
                                    <label for="a_{{i}}_{{j}}">
                                        {{alphaArr[j]}}. {{answer['content']}}
                                    </label>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <ul class="pagination" *ngIf="totalPage > 1">
            <li><a (click)="onPrevious()">&laquo;</a></li>
            <ng-container *ngFor="let page of arrayV(); let i= index;">
                <li routerLinkActive="active">
                    <a [routerLink]="['/detail/tests/content-test']"
                        [queryParams]="{subject: this.subject_id, test: this.test_id, page: i+1}">
                        {{i+1}}
                    </a>
                </li>
            </ng-container>
            <li><a (click)="onNext()">&raquo;</a></li>
        </ul>
    </div>

    <div class="panel panel-danger confirm-del-subject" *ngIf="confirmBlock">
        <div class="panel-heading">
            <h4 class="panel-title">Delete Test</h4>
            <i class="glyphicon glyphicon-remove" (click)="openConfirm()"></i>
        </div>
        <div class="panel-body">
            <h4>Are you sure you want to delete this test ?</h4>
            <div>

                <button type="button" class="btn btn-primary" (click)="openConfirm()">No</button>

                <button type="button" class="btn btn-danger" (click)="onDelTest()">Yes</button>
            </div>
        </div>
    </div>
    <div class="share-box" *ngIf="shareBox">
        <div class="panel panel-heading">
            <h3 class="shareSuccess" *ngIf="isShareSuccess">Share successfully</h3>
        </div>
        <div class="panel panel-heading">
            <div class="panel-heading">
                <!-- <h3 class="shareSuccess" *ngIf="isShareSuccess">Chia sẽ thành công !</h3> -->
                <h3 class="panel-title">Share Test</h3>
                <i class="glyphicon glyphicon-remove" (click)="openShareBox()"></i>
            </div>
            <div class="">
                <form class="add-question" novalidate="true" [formGroup]="shareForm" (ngSubmit)="onShareTest()">
                    <div class="form-group">
                        <label>Test Link</label>
                        <input type="text" min="15" step="5" class="form-control" placeholder="00"
                            formControlName="link" #link>
                        <button type="button" (click)="copyToClipboard(link)">Copy</button>
                    </div>
                    <div class="form-group">
                        <label>Recipients </label>
                        <input type="text" class="form-control" placeholder="example@gmail.com" formControlName="listEmail"
                            #listEmail>
                        <span class="label label-danger" *ngIf="0">
                            Please enter email of recipients.
                        </span>
                    </div>
                    <div class="form-group">
                        <input class="" type="checkbox" formControlName="haveCode" #haveCode>
                        <label>Are you want user enter code ?</label>
                    </div>
                    <div class="form-group">

                        <button type="submit" class="btn btn-primary" [disabled]="0">
                            Share
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>